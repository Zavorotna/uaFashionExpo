document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector(".shema"),t=document.querySelector(".shema_popup"),s=document.querySelector(".cancel_shema"),i=document.querySelector(".dark-bgc"),l=document.querySelector(".dark-shema"),r=document.querySelector(".zoom"),n=document.querySelector(".unzoom"),a=document.querySelector(".cancel_fixed");function d(){t.style.display="none",l.style.display="none",t.classList.remove("jello-animation")}function o(){t.classList.remove("zoomed");const e=t.querySelector("img");t.style.padding="20px",t.style.width="90vw",t.style.height="auto",e.style.width="100%",r.style.display="block",s.style.display="block",n.style.display="none",a.style.display="none"}e.addEventListener("click",(function(e){e.preventDefault(),t.style.display="block",l.style.display="block",t.classList.add("jello-animation")})),s.addEventListener("click",d),r.addEventListener("click",(function(e){e.preventDefault(),t.classList.add("zoomed");const i=t.querySelector("img");window.innerWidth<768?i.style.width="300vw":(i.style.width="150%",i.style.height="150%"),t.style.padding="0",t.style.width="100vw",t.style.height="100vh",s.style.display="none",r.style.display="none",n.style.display="block",a.style.display="block"})),n.addEventListener("click",(function(e){e.preventDefault(),o()})),a.addEventListener("click",(function(e){e.preventDefault(),o(),d()}));const c=document.querySelector(".privacy_page"),h=document.querySelector(".privacyPolice"),u=document.querySelector(".cancel_popup");if(h.addEventListener("click",(function(e){e.preventDefault(),c.style.display="block",i.style.display="block",c.classList.add("jello-animation")})),u.addEventListener("click",(function(e){e.preventDefault(),c.style.display="none",i.style.display="none",c.classList.remove("jello-animation")})),document.querySelector(".burger")){const N=document.querySelector(".burger"),O=document.querySelector(".nav"),H=document.querySelector(".cancel"),R=O.querySelectorAll("a");function y(){O.style.right="-100%",i.style.display="none",c.style.display="none"}N.addEventListener("click",(function(){O.style.right="0",i.style.display="block"})),R.forEach((e=>{e.addEventListener("click",y)})),H.addEventListener("click",(function(e){e.preventDefault(),y()})),i.addEventListener("click",y)}const p=document.querySelectorAll(".visitors"),v=document.querySelector(".dark-bgc-popup"),m=document.querySelector(".cancel_popup_vis"),C=document.querySelector(".popup_visitors");p.forEach((e=>{e.addEventListener("click",(function(e){e.preventDefault(),C.style.display="block",v.style.display="block",C.classList.add("jello-animation")}))})),m.addEventListener("click",(function(e){e.preventDefault(),C.style.display="none",v.style.display="none",C.classList.remove("jello-animation")}));const g=document.querySelectorAll(".customers"),f=document.querySelector(".cancel_popup_cust"),S=document.querySelector(".popup_customers");g.forEach((e=>{e.addEventListener("click",(function(e){e.preventDefault(),S.style.display="block",v.style.display="block",S.classList.add("jello-animation")}))})),f.addEventListener("click",(function(e){e.preventDefault(),S.style.display="none",v.style.display="none",i.style.display="none",c.style.display="none",S.classList.remove("jello-animation")}));const L=document.querySelectorAll("form"),E=document.querySelector("#successPopup"),b=document.querySelector(".dark-succes");E.style.transition="opacity 0.5s ease",E.style.opacity="0",b.style.transition="opacity 0.5s ease",b.style.opacity="0",L.forEach((e=>{e.addEventListener("submit",(function(t){t.preventDefault(),v.style.display="none",C.style.display="none",S.style.display="none",E.style.display="block",b.style.display="block",setTimeout((()=>{E.style.opacity="1",E.style.visibility="visible",b.style.opacity="1"}),10),setTimeout((()=>{E.style.opacity="0",E.style.visibility="hidden",b.style.opacity="0",setTimeout((()=>{b.style.display="none",E.style.display="none"}),500),e.submit()}),4e3)}))}));!function(e,t,s){e.forEach((e=>{e.addEventListener("click",(function(i){i.preventDefault();e.nextElementSibling.classList.toggle(t),e.classList.toggle(s)}))}))}(document.querySelectorAll(".readmore"),"visible","readmore-active");const A=document.querySelectorAll(".nav a "),q=document.querySelectorAll("#spivpracia, #delivery, #obmin");let w=null;function k(){q.forEach((e=>e.classList.remove("visible")))}function D(){A.forEach((e=>e.classList.remove("visible")))}function I(e,t,s,i){return e%10==1&&e%100!=11?t:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?s:i}function F(e){return e<10?`0${e}`:`${e}`}A.forEach((e=>{e.addEventListener("click",(function(t){const s=e.getAttribute("data-target");k(),D();const i=document.getElementById(s);i&&(w&&w.previousElementSibling&&w.previousElementSibling.classList.remove("readmore-active"),i.classList.add("visible"),i.previousElementSibling&&i.previousElementSibling.classList.add("readmore-active"),w=i)}))})),k(),D(),function(){const e=function(e){let t=e.split(" "),s=t[0].split("."),i=t[1].split(":"),l=parseInt(s[0],10),r=parseInt(s[1],10)-1,n=parseInt(s[2],10),a=parseInt(i[0],10),d=parseInt(i[1],10);return new Date(n,r,l,a,d)}("23.07.2025 14:30"),t=document.querySelector(".count"),s=setInterval((()=>{const i=new Date,l=e-i;if(l<=0)return void clearInterval(s);const{days:r,hours:n,minutes:a,seconds:d}=function(e){return{days:Math.floor(e/864e5),hours:Math.floor(e%864e5/36e5),minutes:Math.floor(e%36e5/6e4)}}(l);t.innerHTML=`\n                <div class="flex-between items-center">\n                    <p class="days"><span>${F(r)}</span><span> ${I(r,"день","дні","днів")}</span></p>\n                    <p class="hour"><span>${F(n)}</span><span> ${I(n,"година","години","годин")}</span></p>\n                    <p class="minute"><span>${F(a)}</span><span> ${I(a,"хвилина","хвилини","хвилин")}</span></p>\n            </div>`}),1e3)}();const x=document.querySelector(".hidden_text"),B=document.querySelector(".readAll");B.addEventListener("click",(function(e){e.preventDefault(),x.classList.toggle("expanded"),x.classList.contains("expanded")?B.textContent="Сховати":B.textContent="Розкрити"}));let T=!0;class _{constructor(e,t={}){this.settings={..._.defaultSettings,...t},this.slider=document.querySelector(e),this.positionCards=0,this.sliderContainer=this.slider.querySelector(".slider-container"),this.sliderCards=this.sliderContainer.children,this.realCardsLength=this.sliderCards.length,this.heightCards=0,this.widthSliderContainer,this.cardsCount,this.widthCards,this.distanceCards,this.cloneCard,this.prevBtnSlider,this.nextBtnSlider,this.sliderInterval,this.maxHeight,this.sliderDots,this.touchPoint,_.defaultSettings.baseCardWidth=this.widthSliderContainer}static defaultSettings={gap:0,isArrows:!1,isDots:!1,distanceToDots:0,isAutoplay:!1,autoplaySpeed:3e3,baseCardWidth:null,transitionCard:"all 1s ease-in-out",isEffectFadeOut:!1};init(){if(this.widthSliderContainer=this.sliderContainer.getBoundingClientRect().width,null==this.settings.baseCardWidth&&(this.settings.baseCardWidth=this.widthSliderContainer),this.slider.querySelectorAll(".clone").forEach((e=>{e.remove()})),localStorage[this.slider.id+"Interval"]&&clearInterval(localStorage[this.slider.id+"Interval"]),this.slider.style.position="relative",this.sliderContainer.style.overflow="hidden",this.sliderContainer.style.position="relative",this.sliderContainer.style.width="100%",this.cardsCount=Math.floor(this.widthSliderContainer/(parseInt(this.settings.baseCardWidth)+this.settings.gap)),0==this.cardsCount&&(this.cardsCount=1),this.distanceCards=this.settings.gap,this.widthCards=(this.widthSliderContainer-(this.cardsCount-1)*this.distanceCards)/this.cardsCount,this.positionCards=0-(this.distanceCards+this.widthCards),this.settings.isArrows&&this.creationArrows(),this.prevBtnSlider=this.slider.querySelector(".left.slider_navigation"),this.nextBtnSlider=this.slider.querySelector(".right.slider_navigation"),this.settings.isArrows&&this.sliderCards.length<=this.cardsCount?(this.prevBtnSlider.style.display="none",this.nextBtnSlider.style.display="none"):this.settings.isArrows&&(this.prevBtnSlider.style.display="block",this.nextBtnSlider.style.display="block"),this.settings.isDots&&this.realCardsLength>1){this.creationDots(),this.sliderDots=document.querySelectorAll(".slider-dot");for(let e=0;e<this.sliderCards.length;e++)this.sliderCards[e].classList.contains("activeFade")&&(this.sliderDots[e].classList.remove("activeFade"),this.sliderCards[e].classList.remove("activeFade"));this.sliderDots[0].classList.add("activeFade"),this.sliderCards[0].classList.add("activeFade")}this.settings.isEffectFadeOut||(this.creationClons(),this.shuffleCard()),this.sliderCards=this.sliderContainer.children,this.heightCards=0;for(let e=0;e<this.sliderCards.length;e++)this.sliderCards[e].style.width=this.widthCards+"px",this.sliderCards[e].style.position="absolute",this.maxHeight=this.sliderCards[e].getBoundingClientRect().height,this.heightCards<this.maxHeight&&(this.heightCards=this.maxHeight),this.sliderCards[e].style.transition="none",setTimeout((()=>{this.sliderCards[e].style.transition=this.settings.transitionCard}),1);this.settings.isDots?this.sliderContainer.style.height=this.heightCards+this.settings.distanceToDots+"px":this.sliderContainer.style.height=this.heightCards+"px",this.sliderDots=document.querySelectorAll(".slider-dot"),this.sliderDots.forEach((e=>{e.onclick=()=>{clearInterval(W),clearInterval(localStorage[this.slider.id+"Interval"]);for(let e=0;e<this.realCardsLength;e++)this.sliderDots[e].classList.remove("activeFade"),this.sliderCards[e].classList.remove("activeFade");this.sliderCards[e.dataset.order].classList.add("activeFade"),e.classList.add("activeFade")}})),this.settings.isAutoplay&&this.realCardsLength>this.cardsCount&&(clearInterval(W),this.startAutoPlay()),this.slider.addEventListener("touchend",(()=>{this.settings.isAutoplay&&this.realCardsLength>this.cardsCount&&(clearInterval(W),this.startAutoPlay())})),this.touchSlider=this.touchSlider.bind(this),this.slider.addEventListener("touchstart",(e=>{clearInterval(W),this.touchPoint=e.touches[0].pageX,this.slider.addEventListener("touchmove",this.touchSlider),clearInterval(localStorage[this.slider.id+"Interval"])}),{passive:!0}),this.slider.onmouseenter=()=>{clearInterval(localStorage[this.slider.id+"Interval"])},this.slider.onmouseleave=()=>{this.settings.isAutoplay&&this.realCardsLength>this.cardsCount&&this.startAutoPlay()}}creationClons(){let e=1;do{this.cloneCard=this.sliderCards[this.sliderCards.length-e].cloneNode(!0),this.cloneCard.classList.add("clone"),this.cloneCard.style.transition="none",this.sliderContainer.insertAdjacentElement("afterbegin",this.cloneCard),this.realCardsLength=this.sliderCards.length-this.slider.querySelectorAll(".clone").length,e++}while(e<=this.realCardsLength&&this.settings.isSlidesToScrollAll);if(this.settings.isSlidesToScrollAll)for(e=0;e<this.realCardsLength;)this.cloneCard=this.sliderCards[e].cloneNode(!0),this.cloneCard.classList.add("clone"),this.cloneCard.style.transition="none",this.sliderContainer.insertAdjacentElement("beforeend",this.cloneCard),e++}creationArrows(){if(this.slider.querySelectorAll(".slider_navigation").length<1){this.prevBtnSlider=document.createElement("span"),this.nextBtnSlider=document.createElement("span"),this.prevBtnSlider.className="left slider_navigation",this.nextBtnSlider.className="right slider_navigation",this.slider.insertAdjacentElement("afterbegin",this.prevBtnSlider),this.slider.insertAdjacentElement("beforeend",this.nextBtnSlider);let e=!0;const t=()=>{e=!1,setTimeout((()=>{e=!0}),1e3*parseFloat(this.sliderCards[0].style.transitionDuration))};this.prevBtnSlider.onclick=()=>{e&&(this.changeSlide("left"),t())},this.nextBtnSlider.onclick=()=>{e&&(this.changeSlide("right"),t())}}}creationDots(){if(!this.slider.querySelector(".dots-container")){let e=document.createElement("div");e.style.position="absolute",e.className="dots-container",e.style.bottom="0",this.slider.insertAdjacentElement("beforeend",e);for(let t=0;t<this.realCardsLength;t++){const s=document.createElement("span");s.className="slider-dot",s.dataset.order=t,e.insertAdjacentElement("beforeend",s)}}}shuffleCard(){this.sliderCards=this.sliderContainer.children,this.positionCards=0-(this.distanceCards+this.widthCards),this.settings.isSlidesToScrollAll&&(this.positionCards=0-(this.distanceCards+this.widthCards)*this.realCardsLength);for(let e=0;e<this.sliderCards.length;e++)this.sliderCards[e].style.left=this.positionCards+"px",this.positionCards+=this.distanceCards+this.widthCards}changeSlide(e){this.widthSliderContainer=this.sliderContainer.getBoundingClientRect().width,this.cardsCount=Math.floor(this.widthSliderContainer/(parseInt(this.settings.baseCardWidth)+this.settings.gap)),0==this.cardsCount&&(this.cardsCount=1),this.widthCards=(this.widthSliderContainer-(this.cardsCount-1)*this.distanceCards)/this.cardsCount,this.sliderCards=this.sliderContainer.children;let t=0;for(let e=0;e<this.sliderCards.length;e++)this.sliderCards[e].classList.contains("activeFade")&&(t=e);if("left"==e)if(this.settings.isSlidesToScrollAll)for(let e=0;e<this.cardsCount;e++)this.sliderContainer.insertAdjacentElement("afterbegin",this.sliderCards[this.sliderCards.length-1]);else if(this.settings.isEffectFadeOut)setTimeout((()=>this.sliderCards[t].classList.add("activeFade")),800),setTimeout((()=>this.sliderDots[t].classList.add("activeFade")),800),this.sliderCards[t].classList.remove("activeFade"),this.sliderDots[t].classList.remove("activeFade"),this.sliderCards[t-1]?t--:t=this.sliderCards.length-1;else{this.sliderCards[this.sliderCards.length-1].remove();let e=this.sliderCards[this.sliderCards.length-1].cloneNode(!0);e.classList.add("clone"),this.sliderContainer.insertAdjacentElement("afterbegin",e),this.sliderCards[1].classList.remove("clone")}else if("right"==e)if(this.settings.isSlidesToScrollAll)for(let e=0;e<this.cardsCount;e++)this.sliderContainer.insertAdjacentElement("beforeend",this.sliderCards[0]);else if(this.settings.isEffectFadeOut)setTimeout((()=>this.sliderCards[t].classList.add("activeFade")),800),setTimeout((()=>this.sliderDots[t].classList.add("activeFade")),800),this.sliderCards[t].classList.remove("activeFade"),this.sliderDots[t].classList.remove("activeFade"),this.sliderCards[t+1]?t++:t=0;else{this.sliderCards[0].remove();let e=this.sliderCards[0].cloneNode(!0);e.classList.add("clone"),this.sliderContainer.insertAdjacentElement("beforeend",e),this.sliderCards[this.sliderCards.length-2].classList.remove("clone")}this.settings.isEffectFadeOut||this.shuffleCard()}startAutoPlay(){if(clearInterval(localStorage[this.slider.id+"Interval"]),this.settings.isEffectFadeOut){let e=0;for(let t=0;t<this.sliderCards.length;t++)this.sliderCards[t].classList.contains("activeFade")&&(e=t);const t=e=>{setTimeout((()=>this.sliderCards[e].classList.add("activeFade")),1e3),setTimeout((()=>this.sliderDots[e].classList.add("activeFade")),1e3)};this.sliderInterval=setInterval((()=>{this.sliderCards[e].classList.remove("activeFade"),this.sliderDots[e].classList.remove("activeFade"),this.sliderCards[e+1]?e++:e=0,t(e)}),this.settings.autoplaySpeed)}else this.sliderInterval=setInterval((()=>{this.changeSlide("right")}),this.settings.autoplaySpeed);localStorage[this.slider.id+"Interval"]=this.sliderInterval}touchSlider(e){if(clearInterval(W),!T)return;const t=e.touches[0].pageX;this.touchPoint+20<t?(this.changeSlide("left"),T=!1,this.slider.removeEventListener("touchmove",this.touchSlider),setTimeout((()=>{T=!0}),500)):this.touchPoint-20>t&&(this.changeSlide("right"),T=!1,this.slider.removeEventListener("touchmove",this.touchSlider),setTimeout((()=>{T=!0}),500)),this.touchPoint=t}}const j=new _(".galery_mobile",{isArrows:!0,isSlidesToScrollAll:!1,baseCardWidth:"250px",gap:50,autoplaySpeed:5e3,transitionCard:"all 1.5s ease-in-out"});function P(){j.init()}window.onresize=function(){P()};let W=setTimeout((function(){P()}),50);document.querySelectorAll(".phoneInput").forEach((e=>{e.addEventListener("input",(function(){let t=e.value.trim();t.startsWith("+3")||(t="+3"+t);let s=t.replace(/[^\d+]/g,"");s.length>13&&(s=s.slice(0,13));M(s)?(e.style.borderColor="green",e.style.color="#121212",document.querySelectorAll("form[action='sendcustomers.php'] > button, form[action='sendvisitors.php'] > button").forEach((e=>{e.removeAttribute("disabled")}))):(e.style.borderColor="#EB4242",e.style.color="#EB4242",document.querySelectorAll("form[action='sendcustomers.php'] > button, form[action='sendvisitors.php'] > button").forEach((e=>{e.setAttribute("disabled",!0)})))}))})),console.log(document.querySelectorAll("form[action='sendcustomers.php'], form[action='sendvisitors.php']"));const $=document.querySelectorAll("input[name='email']"),z=/^[a-zA-Z][a-zA-Z0-9_-]+[a-zA-Z0-9]@([a-z_-]+(\.\w+)?(\.\w{2,3}))$/;function M(e){return/^\+(\d{10,13})$/.test(e)}$.forEach((e=>{e.addEventListener("input",(function(t){console.log(e);const s=e.value.trim();if(!z.test(s))return e.style.borderColor="#EB4242",e.style.color="#EB4242",!1;e.style.borderColor="green",e.style.color="#121212"}))})),document.querySelectorAll("form[action='sendcustomers.php'], form[action='sendvisitors.php']").forEach((e=>{e.addEventListener("submit",(t=>{(function(e){const t=e.querySelector("input[name='userPhone']").value.trim();return console.log(t),!(!t||!M(t)||t.length<13)})(e)||t.preventDefault()}))}));document.querySelectorAll(".inputMask").forEach((function(e){e.addEventListener("click",(function(){e.value||(e.value="+3")})),e.addEventListener("input",(function(){let t=e.value.replace(/[^\d+]/g,"");e.value=t,t.length>13&&(e.value=t.slice(0,13)),t.startsWith("+3")||(e.value="+3"+t.slice(3))}))}))}));